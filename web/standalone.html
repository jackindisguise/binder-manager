<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCG Binder Collection - Standalone</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>TCG Binder Collection</h1>
        
        <div class="controls">
            <button onclick="openAddCardModal()">Add Card</button>
            <button onclick="openBulkInsertModal()" class="secondary">Bulk Insert</button>
            <button id="pullModeBtn" onclick="togglePullMode()" class="secondary">Pull Mode: Off</button>
            <span id="pullModeIndicator" class="pull-mode-indicator hidden">Pull Mode Active - Click cards to remove</span>
            <button onclick="openSortPreview()" class="secondary">Sort</button>
            <label for="pageSize" class="page-size-label">
                <span class="page-size-text">Page Size:</span>
                <select id="pageSize" class="page-size-select" onchange="changePageSize()">
                    <option value="4">2x2 (4 cards)</option>
                    <option value="9" selected>3x3 (9 cards)</option>
                    <option value="12">4x3 (12 cards)</option>
                </select>
            </label>
            <button onclick="exportBinder()" class="secondary">Export JSON</button>
            <label for="importFile">Import JSON</label>
            <input type="file" id="importFile" accept=".json" onchange="importBinder(event)">
            <button onclick="clearBinder()" class="secondary">Clear All</button>
        </div>
        
        <div class="stats" id="stats">
            <!-- Stats will be populated by JavaScript -->
        </div>
        
        <div class="pages-grid" id="pagesGrid">
            <!-- Pages will be populated by JavaScript -->
        </div>
    </div>
    
    <!-- Sort Preview Modal -->
    <div class="modal" id="sortModal">
        <div class="modal-content modal-content-large">
            <h2>Sort Binder Preview</h2>
            <div class="sort-section">
                <label class="sort-label">Sort by:</label>
                <select id="sortCriteria" class="sort-select" onchange="updateSortPreview()">
                    <option value="name">Name</option>
                    <option value="number">Number</option>
                    <option value="value">Value (High to Low)</option>
                </select>
            </div>
            <div id="sortPreviewInfo" class="sort-preview-info">
                <!-- Sort info will be populated here -->
            </div>
            <div id="sortPreviewSwaps" class="sort-preview-swaps">
                <!-- Swaps will be listed here -->
            </div>
            <div class="modal-buttons">
                <div class="left"></div>
                <div class="right">
                    <button class="secondary" onclick="closeSortModal()">Cancel</button>
                    <button class="primary" onclick="applySort()">Apply Sort</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add/Edit Card Modal -->
    <div class="modal" id="cardModal">
        <div class="modal-content">
            <h2 id="modalTitle">Add Card</h2>
            <label for="cardName">Name:</label>
            <input type="text" id="cardName" placeholder="Card name">
            <label for="cardNumber">Number:</label>
            <input type="text" id="cardNumber" placeholder="Card number">
            <label for="cardCondition">Condition:</label>
            <input type="text" id="cardCondition" placeholder="e.g., Near Mint Foil">
            <label for="cardValue">Value:</label>
            <input type="number" id="cardValue" placeholder="0.00" step="0.01">
            <div class="modal-buttons">
                <div class="left">
                    <button id="pullCardBtn" class="danger hidden" onclick="pullCardFromModal()">Pull Card</button>
                </div>
                <div class="right">
                    <button class="secondary" onclick="closeCardModal()">Cancel</button>
                    <button class="primary" onclick="saveCard()">Save</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bulk Insert Modal -->
    <div class="modal" id="bulkInsertModal">
        <div class="modal-content modal-content-medium">
            <h2>Bulk Insert Cards</h2>
            <p class="bulk-insert-description">
                Enter cards in CSV format (one per line):<br>
                <strong>Name, Number, Condition, Value</strong><br>
                Example: Lightning, 24-070L, Near Mint, 6.29
            </p>
            <label for="bulkInsertText">CSV Data:</label>
            <textarea id="bulkInsertText" class="bulk-insert-textarea" placeholder="Lightning, 24-070L, Near Mint, 6.29&#10;Cloud, 25-006L, Near Mint Foil, 23.74"></textarea>
            <div id="bulkInsertStatus" class="bulk-insert-status hidden"></div>
            <div class="modal-buttons">
                <div class="left"></div>
                <div class="right">
                    <button class="secondary" onclick="closeBulkInsertModal()">Cancel</button>
                    <button class="primary" onclick="processBulkInsert()">Insert Cards</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>